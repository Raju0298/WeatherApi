{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN\\\\weatherapi\\\\src\\\\Facebook\\\\src\\\\Fbscript.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { createContext } from 'react';\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './css/Login.css';\nimport { ResponseContext } from './MyRoutes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Fbscript = () => {\n  _s();\n  const navigate = useNavigate();\n  // const [data, setData] = useState({})\n\n  useEffect(() => {\n    const fbid = process.env.REACT_APP_FACEBOOKID;\n    window.fbAsyncInit = function () {\n      window.fbLoaded = true;\n      window.FB.init({\n        appId: fbid,\n        cookie: false,\n        // Enable cookies to allow the server to access the session.\n        xfbml: true,\n        // Parse social plugins on this webpage.\n        version: \"v16.0\" // Use this Graph API version for this call.\n      });\n\n      window.FB.AppEvents.logPageView();\n    };\n    (function (d, s, id) {\n      var js,\n        fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) {\n        return;\n      }\n      js = d.createElement(s);\n      js.id = id;\n      js.src = \"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v16.0\";\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk');\n  }, []);\n  const handleClick = () => {\n    console.log(\"HEre\");\n    window.FB.login(function (response) {\n      if (response.authResponse) {\n        var access_token = window.FB.getAuthResponse()['accessToken'];\n        window.FB.getLoginStatus(function (response) {\n          if (response.status === 'connected') {\n            console.log('Login authenticated');\n          } else {\n            console.log('not authenticated');\n          }\n        });\n        console.log('Welcome!  Fetching your information.... ');\n        callApi();\n        setTimeout(() => {\n          navigate(\"/show\");\n        }, 1000);\n      } else {\n        console.log('User cancelled login or did not fully authorize.');\n      }\n    }, {\n      scope: 'public_profile,email'\n    });\n  };\n  const {\n    data,\n    setData\n  } = useContext(ResponseContext);\n  const callApi = () => {\n    window.FB.api('/me', {\n      locale: 'en_US',\n      fields: 'id,first_name,last_name,email,picture'\n    }, function (response) {\n      setData(response);\n      console.log(response);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fbscript\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"fbtn\",\n        onClick: handleClick,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(Fbscript, \"Cpt+0toofVG+k6Dq2tbsb7aZse4=\", false, function () {\n  return [useNavigate];\n});\n_c = Fbscript;\nexport default Fbscript;\nvar _c;\n$RefreshReg$(_c, \"Fbscript\");","map":{"version":3,"names":["React","useContext","useState","createContext","useEffect","useNavigate","ResponseContext","jsxDEV","_jsxDEV","Fbscript","_s","navigate","fbid","process","env","REACT_APP_FACEBOOKID","window","fbAsyncInit","fbLoaded","FB","init","appId","cookie","xfbml","version","AppEvents","logPageView","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","handleClick","console","log","login","response","authResponse","access_token","getAuthResponse","getLoginStatus","status","callApi","setTimeout","scope","data","setData","api","locale","fields","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/MERN/weatherapi/src/Facebook/src/Fbscript.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport { createContext } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './css/Login.css'\r\nimport { ResponseContext } from './MyRoutes';\r\n\r\nconst Fbscript = () => {\r\n    \r\n    const navigate = useNavigate()\r\n    // const [data, setData] = useState({})\r\n    \r\n    \r\n    \r\n\r\n    useEffect(() => {\r\n        const fbid = process.env.REACT_APP_FACEBOOKID\r\n        window.fbAsyncInit = function() {\r\n            window.fbLoaded = true\r\n            window.FB.init({\r\n                appId: fbid,\r\n                cookie: false, // Enable cookies to allow the server to access the session.\r\n                xfbml: true, // Parse social plugins on this webpage.\r\n                version: \"v16.0\", // Use this Graph API version for this call.\r\n              });\r\n\r\n            window.FB.AppEvents.logPageView();\r\n          };\r\n        \r\n        \r\n\r\n          (function(d, s, id){\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) {return;}\r\n            js = d.createElement(s); js.id = id;\r\n            js.src = \"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v16.0\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n          }(document, 'script', 'facebook-jssdk'));                    \r\n    }, [])\r\n\r\n    \r\n    \r\n    const handleClick = () =>{ \r\n        console.log(\"HEre\")\r\n        window.FB.login(function(response) {\r\n            if (response.authResponse) {\r\n            var access_token =   window.FB.getAuthResponse()['accessToken'];\r\n\r\n            window.FB.getLoginStatus(function(response){\r\n                if(response.status==='connected'){\r\n                    console.log('Login authenticated');\r\n                }else{\r\n                    console.log('not authenticated');\r\n                }\r\n            })\r\n            console.log('Welcome!  Fetching your information.... ');\r\n            callApi()\r\n            setTimeout(() => {\r\n                navigate(\"/show\")\r\n            }, 1000);\r\n        } else {\r\n             console.log('User cancelled login or did not fully authorize.');\r\n            }\r\n        }, {scope: 'public_profile,email'});\r\n    }\r\n\r\n    const {data, setData} = useContext(ResponseContext)\r\n    \r\n    const callApi = () => {\r\n          window.FB.api('/me', {locale: 'en_US', fields: 'id,first_name,last_name,email,picture'},\r\n              function(response) {\r\n               setData(response)\r\n               console.log(response);\r\n             });   \r\n    }\r\n\r\n  return (\r\n\r\n    <div className='fbscript'>\r\n        <div className='container-fluid'>\r\n        <button className=\"fbtn\" onClick={handleClick}>Login</button>\r\n        {/* <button className=\"fbtn\" onClick={getLogout}>LogOut</button> */}\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Fbscript"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}